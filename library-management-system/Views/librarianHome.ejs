<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
			crossorigin="anonymous"
		/>
		<script
			src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
			integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
			integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
			crossorigin="anonymous"
		></script>
		<link rel="stylesheet" type="text/css" href="/css/librarianHome.css" />
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="/librarian">Library Portal</a>
			<button
				class="navbar-toggler"
				type="button"
				data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent"
				aria-expanded="false"
				aria-label="Toggle navigation"
			>
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item">
						<a class="nav-link" href="/librarian">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/librarian/changepassword">Change Password</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../auth/logout">Log out</a>
					</li>
				</ul>
			</div>
		</nav>
		<form
			class="d-flex form-group m-3 searchBar justify-content-center mt-3 p-2"
			id="searchForm"
			action="/librarian/searchBook"
			method="get"
		>
			<select id="searchCriterion" class="form-select" name="criterion" form="searchForm">
				<option selected value="name">Book name</option>
				<option value="ISBN">ISBN</option>
				<option value="author">Author</option>
			</select>
			<input
				type="text"
				class="form-control"
				id="keyword"
				name="keyword"
				placeholder="Enter the keyword (Empty to view all books)"
			/>
			<button class="btn btn-primary" type="submit">Search</button>
		</form>
		<div class="content container">
			<div class="d-flex flex-wrap justify-content-center">
				<h5 id="issueHead" class="section">Issue Book</h5>
				<h5 id="returnHead" class="section passivebackground">Return Book</h5>
				<h5 id="addBookHead" class="section passivebackground">Add Book</h5>
				<h5 id="deleteBookHead" class="section passivebackground">Delete Book</h5>
				<h5 id="addUserHead" class="section passivebackground">Add User</h5>
				<h5 id="addAuthorHead" class="section passivebackground">Add Author</h5>
				<h5 id="fineHead" class="section passivebackground">Fine</h5>
				<h5 id="authorHead" class="section passivebackground">Author Details</h5>
			</div>
			<div
				class="forms d-flex flex-column justify-content-center align-items-center mt-5 w-100"
			>
				<div id="issueSection" class="d-flex flex-column">
					<form id="issueForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="bookIdIssue">Book ID</label>
								<input class="mt-1 form-control" id="bookIdIssue" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="userIdIssue">User ID</label>
								<input class="mt-1 form-control" id="userIdIssue" type="text" />
							</div>
						</div>
						<div class="form-group">
							<p id="errorIssue" style="color: red" class="mt-3"></p>
						</div>
						<div class="form-group">
							<p id="successIssue" style="color: green" class="mt-3"></p>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-primary">Issue Book</button>
						</div>
					</form>
				</div>
				<div id="returnSection" class="flex-column d-none">
					<form id="returnForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="bookIdReturn">Book ID</label>
								<input class="mt-1 form-control" id="bookIdReturn" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorReturn"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successReturn"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Return Book</button>
						</div>
					</form>
				</div>
				<div id="addBookSection" class="flex-column d-none">
					<form id="addBookForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="bookISBNAdd">ISBN</label>
								<input class="mt-1 form-control" id="bookISBNAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="bookTitleAdd">Title</label>
								<input class="mt-1 form-control" id="bookTitleAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="bookcopyAdd">Copy Number</label>
								<input class="mt-1 form-control" id="bookcopyAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="bookshelfAdd">Shelf Number</label>
								<input class="mt-1 form-control" id="bookshelfAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="bookrowAdd">Row Number</label>
								<input class="mt-1 form-control" id="bookrowAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="bookauthorAdd">Author Id</label>
								<input class="mt-1 form-control" id="bookauthorAdd" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorBookAdd"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successBookAdd"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Add Book</button>
						</div>
					</form>
				</div>
				<div id="deleteBookSection" class="flex-column d-none">
					<form id="deleteBookForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="bookIdDelete">Book ID</label>
								<input class="mt-1 form-control" id="bookIdDelete" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorDelete"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successDelete"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Delete Book</button>
						</div>
					</form>
				</div>
				<div id="addUserSection" class="flex-column d-none">
					<form id="addUserForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="userIdAdd">User ID</label>
								<input class="mt-1 form-control" id="userIdAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="nameAdd">Name</label>
								<input class="mt-1 form-control" id="nameAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="emailAdd">Email</label>
								<input class="mt-1 form-control" id="emailAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="passwordAdd">Password</label>
								<input class="mt-1 form-control" id="passwordAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="studentAdd">Student or Not(0/1)</label>
								<input class="mt-1 form-control" id="studentAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="phoneAdd">Phone Number</label>
								<input class="mt-1 form-control" id="phoneAdd" type="text" />
							</div>
							<div class="form-group m-3">
								<label class="mt-1" for="addressAdd">Address</label>
								<input class="mt-1 form-control" id="addressAdd" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorAddUser"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successAddUser"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Add User</button>
						</div>
					</form>
				</div>
				<div id="addAuthorSection" class="flex-column d-none">
					<form id="addAuthorForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="authorNameAdd">Author Name</label>
								<input class="mt-1 form-control" id="authorNameAdd" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorAddAuthor"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successAddAuthor"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Add Author</button>
						</div>
					</form>
				</div>
				<div id="fineSection" class="flex-column d-none">
					<form id="checkfineForm">
						<div style="display: flex; flex-wrap: wrap; justify-content: center">
							<div class="form-group m-3">
								<label class="mt-1" for="userIdFine">User ID</label>
								<input class="mt-1 form-control" id="userIdFine" type="text" />
							</div>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">Check fine</button>
						</div>
					</form>
					<form id="clearfineForm">
						<div class="form-group m-3">
							<p class="mt-3" style="color: red" id="errorFine"></p>
						</div>
						<div class="form-group m-3">
							<p class="mt-3" style="color: green" id="successFine"></p>
						</div>
						<div class="form-group m-3">
							<button type="submit" class="btn btn-primary">clearFine</button>
						</div>
					</form>
				</div>
				<div id="authorSection" class="d-none">
					<table class="table table-responsive table-hover table-bordered">
						<thead class="thead-dark">
							<tr>
								<th scope="col">ID</th>
								<th scope="col">Author Name</th>
							</tr>
						</thead>
						<tbody style='background-color: #fff;'>
							<% for(var i=0;i<author_details.length;i++){%>
								<tr>
									<td><%=author_details[i].author_id%></td>
									<td><%=author_details[i].name%></td>
								</tr>
							<%}%>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="/js/librarianHome.js"></script>
	</body>
</html>
